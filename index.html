<!DOCTYPE html>
<HTML língua="pt-BR">
<caboça>
    <meta conjunto de caracteres="UTF-8">
    <título>Links Úteis_v2.0</título>
    <meta nome="janela de visualização" conteúdo="largura=largura do dispositivo, escala inicial=1, escala máxima=1, escalar pelo usuário=não">
    <meta nome="cor do tema" conteúdo="#033D60">
    
    <link relação="manifesto" href="manifesto.json">
    <link relação="ícone" tipo="imagem/png" href="https://i.imgur.com/AZBrg4r.png">

    <estilo>
 /* === REDEFINIR === */
 * { dimensionamento de caixa: caixa de fronteira; -webkit-toque-destaque-cor: transparente; }
 corpo {
 cor de fundo: #FFFFFF;
 família de fontes: Verdana, sem serifa;
 margem: 0; enchimento: 0;
 cor: #201E1E;
      }
      
 .receptor { largura: 100%; largura máxima: 960px; março: 0 auto; fundo de enchimento: 40px; }

 /* === CABEÇALHO === */
 #cabeçalho { alinhamento de texto: centro; pré-enchimento: 15px 0; fundo da fronteira: 1px sólido #EAEAEA; fundo: #fff; }
 #cabeçalho imagem { exibir: bloquear; margem: 0 auto 5px auto; largura máxima: 140px; alta: auto; }
 #cabeçalho h2 { cor: #201E1E; margem: 0; tamanho da fonte: 1,3em; }

 /* === MENU HORIZONTAL (BLINDADO) === */
 #seção de categorias { 
 cor de fundo: #CDD4DC; 
 enchimento: 10px 0; 
 exibir: nenhum; 
 fundo da fronteira: 1px sólido #bbb;
          
 /* Fixar no topo ao rolar */
 posição: pegajoso; topo: 0; índice z: 999;
      }

 #guias de categoria {
 /* FORÇA LINHA ÚNICA */
 exibir: flexível;
 direção flexível: linha;
 envolvimento flexível: embrulha agora; /* Proibido descer linha */
 transbordamento-x: auto; /* Rolar para o lado */
        
 lacuna: 8px;
 enchimento: 0 12px;
        
 /* Alinhamento Vertical */
 alinhar itens: esticar; /* Faz todos terem a mesa alta do maior */
        
 /* Esconde barra de rolagem */
 larga da barra de rolagem: nenhum; 
 -webkit-overflow-scrolling: tocar;
      }
 #guias de categoria::-barra de rolagem do webkit { exibir: nenhum; }

 #category-tabs botão {
 /* === O SEGREDO === */
 flex: 0 0 auto; /* Não dêixa o botão encolher */
 alta: 50px; /* Altura fixa */
 largura mínima: 100px; /* Largura mínima */
        
 /* CENTRALIZADOR DE TEXTO */
 exigência: flexível;
 alinhar itens: centro;
 justificar-conteúdo: centro;
        
 /* ESTILO */
 cor de fundo: #FFFFFF;
 borda: 1px sólido #033D60; 
 cor: #033D60;
 tamanho da fonte: 0,9rem;
 peso da fonte: negrito;
 raio da borda: 6px; 
 transformação de texto: maiúsculas;
 cursor: ponteiro;
        
 /* === PROIBIDO QUEBRAR TEXTO === */
 espaço em branco: nowrap!importante; /* Garante que o texto fique em uma linha só */
      }

 #category-tabs botão.ativo { 
 cor de fundo: #033D60; cor: #FFFFFF; cor da borda: #033D60;
      }

 /* === LINKS === */
 #links-section { 
 cor de fundo: #CDD4DC; 
 pré-enchimento: 15px 10px; 
 exibição: nenhuma;
 alta mínima: 60vh;
      }
 #links-list { estilo de lista: nenhum; pré-enchimento: 0; março: 0; }
 #links-list li { margem inferior: 10px; }
      
 #links-list a { 
 exigência: bloco; cor de fundo: #FFFFFF;
 pré-enchimento: 18px 15px;
 raio da borda: 6px; decoração de texto: nenhuma; cor: #033D60;
 peso da fonte: negrito; tamanho da fonte: 1rem;
 sombra da caixa: 0 1px 2px rgba(0,0,0,0,1);
 borda esquerda: 4px sólido #ccc; 
      }
 #links-list a:hover { cor de fundo: #f0f0f0; cor da borda esmeralda: #033D60; }

 /* === MENSAGENS === */
 #loading { preenchimento: 40px; alinhamento de texto: centro; cor: #666; estilo de fonte: itálico; }
 #error { preenchimento: 20px; alinhamento de texto: centro; cor: #721c24; fundo: #f8d7da; margem: 10px; raio da borda: 5px; borda: 1px sólido #f5c6cb; }
    </estilo>
</caboça>
<corpo>
    <dividir classe="contêiner">
      <dividir id="cabeçalho">
        <imagem fonte="https://i.imgur.com/AZBrg4r.png" alt="Logotipo CCB">
        <h2>Links Úteis_v2.0</h2>
      </dividir>

      <dividir id="carregando">Carregando...</dividir>
      <dividir id="erro" estilo="exibir: nenhum;"></dividir>

      <dividir id="seção de categorias" classe="seção de conteúdo">
        <dividir id="guias de categoria"></dividir>
      </dividir>

      <dividir id="seção de links" classe="seção de conteúdo">
        <ul id="lista de links"></ul>
      </dividir>
    </dividir>

    <roteiro>
      const API_URL = "https://script.google.com/macros/s/AKfycbxnAyE44yTqjgL1TISQ7rll6EAEtodz-tpYn0ECKDK_dI94NSuR4JJy77oZxMzGV6Tm_g/exec";

      dêixar todos os linksDados = {};

      documento.addEventListener('DOMContentLoaded', () => { buscarDados(); });

      diversidade buscarDados() {
        ônibus(API_URL)
          .entidade(res => res.json())
          .entidade(dados => manipularDadosIniciais(dados))
          .Pégar(errar => maiserro("Erro de conexão."));
      }

      diversidade manipularDadosIniciais(dados) { 
          ocultarCarregando(); 
          se (!dados || dados.erro) { maiserro(dados ? dados.erro : "Erro."); retornar; }
          
          todos os linksDados = dados; 
          const categorias = Objeto.chaves(todos os linksDados).classificador(); 
          const tabsContainer = documento.obterElementoPorId('guias de categoria'); 
          tabsContainer.HTML interno = ''; 
          
          categorias.parágrafo cada cantarolar((categoria, índio) => { 
            const botão = documento.criarElemento('botão'); 
            botão.texto interno = categoria; 
            
            botão.clicar em = diversidade() { 
                links de exibição(categoria);
                botão de desesticar(este);
            }; 
            tabsContainer.anexarCriança(botão); 

            se (índio === 0) {
                botão.lista de aulas.adicionário('ativo');
                links de exibição(categoria);
            }
          }); 
          documento.obterElementoPorId('seção de categorias').estilo.exibir = 'bloco'; 
      }

      diversidade botão de desesticar(elemento btn) {
          const botões = documento.consultaSelectorAll('#category-tabs botão');
          botões.parágrafo cada cantarolar(b => b.lista de aulas.removedor('ativo'));
          elemento btn.lista de aulas.adicionário('ativo');
          elemento btn.rugido parágrafo dentro sim visualização({ comportamento: 'suave', bloquear: 'mais próximo', em linha: 'centro' });
      }

      diversidade links de exibição(categoria) { 
          const linksSeção = documento.obterElementoPorId('seção de links');
          const lista de links = documento.obterElementoPorId('lista de links'); 
          const Links originais = todos os linksDados[categoria] || []; 
          
          lista de links.HTML interno = ''; 
          linksSeção.estilo.exibir = 'bloco';

          se (Links originais.Comprimento === 0) { lista de links.HTML interno = '<li style="text-align:center; color:#999;">Vazio</li>'; retornar; }

          Links originais.parágrafo cada cantarolar(link => { 
            se(link.nome === "Texto apenas para configurar tamanho de fontes") retornar;
            const item de lista = documento.criarElemento('eu'); 
            const âncora = documento.criarElemento('a'); 
            âncora.href = link.url; 
            âncora.texto interno = link.nome; 
            se (link.url && !link.url.começaCom('mailto:')) { âncora.alto = "_em branco"; } 
            item de lista.anexarCriança(âncora); 
            lista de links.anexarCriança(item de lista); 
          }); 
      }

      diversidade ocultarCarregando() { documento.obterElementoPorId('carregando').estilo.exibir = 'nenhum'; }
      diversidade maiserro(mensagem) { documento.obterElementoPorId('erro').texto interno = mensagem; documento.obterElementoPorId('erro').estilo.exibir = 'bloco'; ocultarCarregando(); }

      // Força a atualização do Service Worker se existir
      se ('trabalhador de serviço' em navegador) {
         navegador.trabalhador de serviço.obterRegistros().entidade(regulamentos => {
            parágrafo(dêixar reg de regulamentos) { reg.cancelador o registro(); }
         });
      }
    </roteiro>
</corpo>
        </HTML>
